{# Closing Layout - 마무리 슬라이드 (Tailwind) #}
{# 기본 배경: gradient-accent (어두운 보라 배경) #}
{% set bg_class = style_classes | default('gradient-accent scheme-default text-theme-light') %}
{% set dark_bg = is_dark_bg | default(true) %}
<div class="slide {{ bg_class }} relative overflow-hidden my-5 mx-auto rounded-2xl shadow-2xl {{ slide_tailwind_classes }}"
     data-slide-id="{{ slide_id }}" data-layout="closing">

    <!-- Decorative elements -->
    <div class="absolute inset-0">
        <div class="absolute top-0 right-0 w-80 h-80 {{ 'bg-white/5' if dark_bg else 'bg-black/5' }} rounded-full -translate-y-1/2 translate-x-1/3"></div>
        <div class="absolute bottom-0 left-0 w-96 h-96 {{ 'bg-white/5' if dark_bg else 'bg-black/5' }} rounded-full translate-y-1/2 -translate-x-1/3"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] border {{ 'border-white/10' if dark_bg else 'border-black/10' }} rounded-full"></div>
    </div>

    <!-- Content -->
    <div class="relative h-full flex flex-col justify-center items-center text-center" style="padding: 5% 8%;">
        {% set has_title = false %}
        {% for element in elements %}
            {% if element.role == 'title' or (element.kind == 'text' and loop.first) %}
                {% set has_title = true %}
                <h1 class="text-6xl font-bold {{ 'text-white' if dark_bg else 'text-slate-800' }} mb-8 animate-slide-up tracking-tight">
                    {{ element.content.text }}
                </h1>
            {% endif %}
        {% endfor %}

        {% if not has_title %}
            <h1 class="text-6xl font-bold {{ 'text-white' if dark_bg else 'text-slate-800' }} mb-8 animate-slide-up tracking-tight">
                감사합니다
            </h1>
        {% endif %}

        <!-- Accent line -->
        <div class="w-24 h-1.5 {{ 'bg-white/30' if dark_bg else 'bg-slate-400' }} rounded-full mb-10 animate-fade-in"></div>

        {% for element in elements %}
            {% if element.role != 'title' and not loop.first %}
                {% if element.kind == 'text' %}
                    <p class="text-2xl {{ 'text-white/80' if dark_bg else 'text-slate-600' }} max-w-2xl mb-5 animate-fade-in delay-100">
                        {{ element.content.text }}
                    </p>
                {% elif element.kind == 'bullets' %}
                    <ul class="text-left space-y-3 animate-slide-up delay-200">
                        {% for item in element.content['items'] %}
                            <li class="flex items-center gap-4 text-xl {{ 'text-white/80' if dark_bg else 'text-slate-700' }}">
                                <span class="w-2.5 h-2.5 {{ 'bg-white/60' if dark_bg else 'bg-slate-400' }} rounded-full"></span>
                                {% if item is string %}
                                    {{ item }}
                                {% else %}
                                    {{ item.text }}
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endif %}
        {% endfor %}

        <!-- Contact info -->
        <div class="mt-12 pt-8 border-t {{ 'border-white/20' if dark_bg else 'border-slate-300' }} animate-fade-in delay-300">
            <p class="text-lg {{ 'text-white/50' if dark_bg else 'text-slate-500' }}">
                Questions? Contact us for more information.
            </p>
        </div>
    </div>

    <!-- Footer -->
    <div class="absolute bottom-0 left-0 right-0 flex justify-end" style="padding: 1.5% 4%;">
        <span class="{{ 'bg-white/10 text-white/60' if dark_bg else 'bg-black/10 text-slate-500' }} px-4 py-1.5 rounded-full text-sm font-medium">{{ slide_index + 1 }}</span>
    </div>
</div>
